function getSetting(n,c){chrome.storage.sync.get(n,function(n){c(n)})}function setSetting(n,c){chrome.storage.sync.set(n,c)}function makeCRNButton(n){if(""===n)return!1;var c='<span class="btn crn-item" data-crn="'+n+'"><i class="zmdi zmdi-delete"></i>&nbsp;<span class="crn-num">'+n+"</span></span>";$("#crn-list").append(c)}function crnItemClick(){$(".crn-item").unbind("click"),$(".crn-item").click(function(){var n=$(this).data("crn"),c=$(this);getSetting("crns",function(i){if(void 0!==i.crns){var t=i.crns.split(","),r=t.indexOf(n+"");r>-1&&t.splice(r,1);var e=t.join();setSetting({crns:e},function(){crnItemClick(),c.remove()})}})})}$(document).ready(function(){getSetting("crns",function(n){if(void 0!==n.crns){var c=n.crns.split(",");c.forEach(function(n){makeCRNButton(n)}),crnItemClick()}}),$("#add-submit").click(function(){return""===$("#crn-add input").val()?!1:void getSetting("crns",function(n){var c;void 0!==n.crns?(c=n.crns+","+$("#crn-add input").val(),c=c.replace(/(^\s*,)|(,\s*$)/g,"")):c=$("#crn-add input").val(),setSetting({crns:c},function(){makeCRNButton($("#crn-add input").val()),$("#crn-add input").val(""),crnItemClick()})})}),$("#clear-all").click(function(){$("#dialog-confirm-crn-clear").addClass("show")}),$("#dialog-confirm-crn-clear .dialog-yes").click(function(){chrome.storage.sync.clear(function(){$("#crn-list").empty(),$("#dialog-confirm-crn-clear").removeClass("show")})}),$("#dialog-confirm-crn-clear .dialog-no").click(function(){$("#dialog-confirm-crn-clear").removeClass("show")})});