function getSetting(t,n){chrome.storage.sync.get(t,function(t){n(t)})}function setSetting(t,n){chrome.storage.sync.set(t,n)}$(document).ready(function(){var t=[];getSetting("crns",function(n){if(void 0!==n.crns&&""!==n.crns&&(t=n.crns.split(",")),$("#search_results tr").each(function(){var n=$(this).find("td:first"),s=n.text(),e="btn-white";t.indexOf(s)>-1&&(e="btn-success"),n.append('<div class="btn '+e+' btn-sm add-btn" data-crn="'+s+'">+</div>')}),$("#single_detail").length>0){var s=$("#single_detail p:first"),e=s.text().split(" ");e=e[e.length-1];var i="btn-white";t.indexOf(e)>-1&&(i="btn-success"),s.append('<br /><div class="btn '+i+' add-btn" data-crn="'+e+'">+ Add to CRN Tool</div>')}$(".add-btn.btn-sm").mouseover(function(){$(this).text("+ Add to CRN Tool")}),$(".add-btn.btn-sm").mouseout(function(){$(this).text("+")}),$(".add-btn").click(function(){var t=$(this).data("crn"),n=$(this);n.hasClass("btn-success")||getSetting("crns",function(s){var e;void 0!==s.crns?(e=s.crns+","+t,e=e.replace(/(^\s*,)|(,\s*$)/g,"")):e=t,setSetting({crns:e},function(){n.removeClass("btn-white").addClass("btn-success")})})})})});