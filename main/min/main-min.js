function getSetting(n,t){chrome.storage.sync.get(n,function(n){t(n)})}function setSetting(n,t){chrome.storage.sync.set(n,t)}function loadWindow(n){$("#crn-tool").length>0&&$("#crn-tool").remove(),$.ajax({url:chrome.extension.getURL("main/main.html"),success:function(t){$("body").append(t),$("#crn-tool").draggable({handle:"#crn-navbar"}),$("#crn-options-launch").click(function(){$(this).toggleClass("active"),$("#crn-options").toggleClass("active")}),$("#crn-opt-clearall").click(function(){chrome.storage.sync.clear(function(){loadWindow(!0)})}),n&&$("#crn-tool").addClass("show"),getSetting("crns",function(n){if(void 0!==n.crns){var t=n.crns.split(",");t.forEach(function(n){var t='<span class="btn crn-item" data-clipboard-text="'+n+'"><i class="zmdi zmdi-copy"></i>&nbsp;<span class="crn-num">'+n+"</span></span>";$("#crn-list").append(t)});var c=new Clipboard(".crn-item:not(#crn-add)");c.on("success",function(n){$(n.trigger).addClass("copied"),window.setTimeout(function(){$(n.trigger).removeClass("copied")},550)})}}),$("#add-submit").click(function(){return""===$("#crn-add input").val()?!1:void getSetting("crns",function(n){var t;void 0!==n.crns?(t=n.crns+","+$("#crn-add input").val(),t=t.replace(/(^\s*,)|(,\s*$)/g,"")):t=$("#crn-add input").val(),setSetting({crns:t},function(){loadWindow(!0)})})})}}),getSetting("crns",function(n){console.log(n)})}$(document).ready(function(){loadWindow(!1)});